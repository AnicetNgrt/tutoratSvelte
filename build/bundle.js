var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function u(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function p(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){t.value=null==e?"":e}let g;function $(t){g=t}const v=[],k=[],y=[],C=[],w=Promise.resolve();let x=!1;function b(t){y.push(t)}let _=!1;const E=new Set;function S(){if(!_){_=!0;do{for(let t=0;t<v.length;t+=1){const e=v[t];$(e),H(e.$$)}for($(null),v.length=0;k.length;)k.pop()();for(let t=0;t<y.length;t+=1){const e=y[t];E.has(e)||(E.add(e),e())}y.length=0}while(v.length);for(;C.length;)C.pop()();x=!1,_=!1,E.clear()}}function H(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(b)}}const M=new Set;let N;function B(t,e){t&&t.i&&(M.delete(t),t.i(e))}function L(t,e,n,o){if(t&&t.o){if(M.has(t))return;M.add(t),N.c.push((()=>{M.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function O(t){t&&t.c()}function R(t,n,c,i){const{fragment:s,on_mount:l,on_destroy:a,after_update:u}=t.$$;s&&s.m(n,c),i||b((()=>{const n=l.map(e).filter(r);a?a.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(b)}function j(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function A(t,e){-1===t.$$.dirty[0]&&(v.push(t),x||(x=!0,w.then(S)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function T(e,r,c,i,s,a,u=[-1]){const d=g;$(e);const f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:r.context||[]),callbacks:n(),dirty:u,skip_bound:!1};let p=!1;if(f.ctx=c?c(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),p&&A(e,t)),n})):[],f.update(),p=!0,o(f.before_update),f.fragment=!!i&&i(f.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);f.fragment&&f.fragment.l(t),t.forEach(l)}else f.fragment&&f.fragment.c();r.intro&&B(e.$$.fragment),R(e,r.target,r.anchor,r.customElement),S()}$(d)}class V{$destroy(){j(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var I,U=new Uint8Array(16);function D(){if(!I&&!(I="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return I(U)}var J=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function q(t){return"string"==typeof t&&J.test(t)}for(var F=[],P=0;P<256;++P)F.push((P+256).toString(16).substr(1));function Z(t,e,n){var o=(t=t||{}).random||(t.rng||D)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=o[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(F[t[e+0]]+F[t[e+1]]+F[t[e+2]]+F[t[e+3]]+"-"+F[t[e+4]]+F[t[e+5]]+"-"+F[t[e+6]]+F[t[e+7]]+"-"+F[t[e+8]]+F[t[e+9]]+"-"+F[t[e+10]]+F[t[e+11]]+F[t[e+12]]+F[t[e+13]]+F[t[e+14]]+F[t[e+15]]).toLowerCase();if(!q(n))throw TypeError("Stringified UUID is invalid");return n}(o)}function z(e){let n,o,c,d,m,g,$,v,k,y,C,w,x;return{c(){n=a("label"),o=a("input"),c=f(),d=u("svg"),m=u("symbol"),g=u("path"),$=u("defs"),v=u("mask"),k=u("use"),y=u("use"),C=u("path"),h(o,"type","checkbox"),o.checked=e[1],h(o,"class","svelte-1x32vhm"),h(g,"d","M5.22003 7.26C5.72003 7.76 7.57 9.7 8.67 11.45C12.2 6.05 15.65 3.5 19.19 1.69"),h(g,"fill","none"),h(g,"stroke-width","2.25"),h(g,"stroke-linecap","round"),h(g,"stroke-linejoin","round"),h(m,"id","tick-path-"+e[2]),h(m,"viewBox","0 0 21 18"),h(m,"xmlns","http://www.w3.org/2000/svg"),h(k,"class","tick mask svelte-1x32vhm"),h(k,"href","#tick-path-"+e[2]),h(v,"id","tick_"+e[2]),h(y,"class","tick svelte-1x32vhm"),h(y,"href","#tick-path-"+e[2]),h(y,"stroke","currentColor"),h(C,"fill","white"),h(C,"mask","url(#tick_"+e[2]+")"),h(C,"d","M18 9C18 10.4464 17.9036 11.8929 17.7589 13.1464C17.5179 15.6054 15.6054 17.5179 13.1625 17.7589C11.8929 17.9036 10.4464 18 9 18C7.55357 18 6.10714 17.9036 4.85357 17.7589C2.39464 17.5179 0.498214 15.6054 0.241071 13.1464C0.0964286 11.8929 0 10.4464 0 9C0 7.55357 0.0964286 6.10714 0.241071 4.8375C0.498214 2.39464 2.39464 0.482143 4.85357 0.241071C6.10714 0.0964286 7.55357 0 9 0C10.4464 0 11.8929 0.0964286 13.1625 0.241071C15.6054 0.482143 17.5179 2.39464 17.7589 4.8375C17.9036 6.10714 18 7.55357 18 9Z"),h(d,"viewBox","0 0 21 18"),h(d,"class","svelte-1x32vhm"),h(n,"class","checkbox svelte-1x32vhm")},m(t,l){s(t,n,l),i(n,o),i(n,c),i(n,d),i(d,m),i(m,g),i(d,$),i($,v),i(v,k),i(d,y),i(d,C),w||(x=p(o,"change",(function(){r(e[0])&&e[0].apply(this,arguments)})),w=!0)},p(t,[n]){e=t,2&n&&(o.checked=e[1])},i:t,o:t,d(t){t&&l(n),w=!1,x()}}}function G(t,e,n){let{onCheck:o}=e,{checked:r=!1}=e,c=Z();return t.$$set=t=>{"onCheck"in t&&n(0,o=t.onCheck),"checked"in t&&n(1,r=t.checked)},[o,r,c]}class K extends V{constructor(t){super(),T(this,t,G,z,c,{onCheck:0,checked:1})}}function Q(t){let e,n,o,c,u,m,g,$,v,k,y;return u=new K({props:{onCheck:t[3],checked:t[1]}}),{c(){e=a("div"),n=a("p"),o=d(t[0]),c=f(),O(u.$$.fragment),m=f(),g=a("div"),g.innerHTML='<svg viewBox="0 0 40 40"><path class="close-x svelte-km9w7a" d="M 10,10 L 30,30 M 30,10 L 10,30"></path></svg>',h(n,"class","description svelte-km9w7a"),h(g,"class","suppr svelte-km9w7a"),h(e,"class",$="todo-item "+(t[1]?"done":"todo")+" svelte-km9w7a")},m(l,a){s(l,e,a),i(e,n),i(n,o),i(e,c),R(u,e,null),i(e,m),i(e,g),v=!0,k||(y=p(g,"click",(function(){r(t[2])&&t[2].apply(this,arguments)})),k=!0)},p(n,[r]){t=n,(!v||1&r)&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(o,t[0]);const c={};8&r&&(c.onCheck=t[3]),2&r&&(c.checked=t[1]),u.$set(c),(!v||2&r&&$!==($="todo-item "+(t[1]?"done":"todo")+" svelte-km9w7a"))&&h(e,"class",$)},i(t){v||(B(u.$$.fragment,t),v=!0)},o(t){L(u.$$.fragment,t),v=!1},d(t){t&&l(e),j(u),k=!1,y()}}}function W(t,e,n){let{description:o}=e,{done:r=!1}=e,{onClicked:c}=e,{stateHandler:i}=e;return t.$$set=t=>{"description"in t&&n(0,o=t.description),"done"in t&&n(1,r=t.done),"onClicked"in t&&n(2,c=t.onClicked),"stateHandler"in t&&n(3,i=t.stateHandler)},[o,r,c,i]}class X extends V{constructor(t){super(),T(this,t,W,Q,c,{description:0,done:1,onClicked:2,stateHandler:3})}}function Y(e){let n,r,c,u,d,g;return{c(){n=a("div"),r=a("input"),c=f(),u=a("div"),u.textContent="CONFIRM",h(r,"placeholder","Do something..."),h(r,"class","svelte-1u5l302"),h(u,"class","confirm svelte-1u5l302"),h(n,"class","todo-input svelte-1u5l302")},m(t,o){s(t,n,o),i(n,r),m(r,e[1]),i(n,c),i(n,u),d||(g=[p(r,"input",e[2]),p(u,"click",e[3])],d=!0)},p(t,[e]){2&e&&r.value!==t[1]&&m(r,t[1])},i:t,o:t,d(t){t&&l(n),d=!1,o(g)}}}function tt(t,e,n){let{onConfirm:o}=e,r="";return t.$$set=t=>{"onConfirm"in t&&n(0,o=t.onConfirm)},[o,r,function(){r=this.value,n(1,r)},()=>o(r)]}class et extends V{constructor(t){super(),T(this,t,tt,Y,c,{onConfirm:0})}}const nt=async()=>JSON.parse(localStorage.getItem("todos")||"[]"),ot=t=>{localStorage.setItem("todos",JSON.stringify(t))};var rt=nt,ct=async t=>(ot([...await nt(),t]),t),it=async(t,e)=>{const n=(await nt()).filter((e=>e.id!==t));return ot([...n,e]),e},st=async t=>(ot((await nt()).filter((e=>e.id!==t))),{});function lt(t,e,n){const o=t.slice();return o[7]=e[n].description,o[8]=e[n].done,o[9]=e[n].id,o}function at(t){let e,n;function o(){return t[4](t[9])}function r(){return t[5](t[9])}return e=new X({props:{description:t[7],done:t[8],onClicked:o,stateHandler:r}}),{c(){O(e.$$.fragment)},m(t,o){R(e,t,o),n=!0},p(n,c){t=n;const i={};1&c&&(i.description=t[7]),1&c&&(i.done=t[8]),1&c&&(i.onClicked=o),1&c&&(i.stateHandler=r),e.$set(i)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function ut(t){let e,n,r,c,u,d,p,m,g;d=new et({props:{onConfirm:t[2]}});let $=t[0],v=[];for(let e=0;e<$.length;e+=1)v[e]=at(lt(t,$,e));const k=t=>L(v[t],1,1,(()=>{v[t]=null}));return{c(){e=a("main"),n=a("h1"),n.textContent="Bonsoir Ã  tous",r=f(),c=a("div"),u=a("div"),O(d.$$.fragment),p=f(),m=a("div");for(let t=0;t<v.length;t+=1)v[t].c();h(n,"class","title svelte-16fve2h"),h(u,"class","top_panel svelte-16fve2h"),h(m,"class","main_panel svelte-16fve2h"),h(c,"class","page_container svelte-16fve2h")},m(t,o){s(t,e,o),i(e,n),i(e,r),i(e,c),i(c,u),R(d,u,null),i(c,p),i(c,m);for(let t=0;t<v.length;t+=1)v[t].m(m,null);g=!0},p(t,[e]){if(11&e){let n;for($=t[0],n=0;n<$.length;n+=1){const o=lt(t,$,n);v[n]?(v[n].p(o,e),B(v[n],1)):(v[n]=at(o),v[n].c(),B(v[n],1),v[n].m(m,null))}for(N={r:0,c:[],p:N},n=$.length;n<v.length;n+=1)k(n);N.r||o(N.c),N=N.p}},i(t){if(!g){B(d.$$.fragment,t);for(let t=0;t<$.length;t+=1)B(v[t]);g=!0}},o(t){L(d.$$.fragment,t),v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)L(v[t]);g=!1},d(t){t&&l(e),j(d),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(v,t)}}}function dt(t,e,n){let o=[];const r=()=>{n(0,o=o.sort(((t,e)=>t.done-e.done==0?e.id-t.id:t.done-e.done)))};async function c(t){await st(t),n(0,o=o.filter((e=>e.id!==t)))}async function i(t){let e=o.find((e=>e.id===t));const c=await it(t,{done:!e.done});n(0,o=o.map((e=>e.id===t?c:e))),setTimeout(r,200)}rt().then((t=>{n(0,o=t),r()}));return[o,c,async function(t){const e=await ct({description:t});n(0,o=[e,...o])},i,t=>c(t),t=>i(t)]}return new class extends V{constructor(t){super(),T(this,t,dt,ut,c,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
